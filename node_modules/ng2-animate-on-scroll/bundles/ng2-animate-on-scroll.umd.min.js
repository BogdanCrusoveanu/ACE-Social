!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng2-animate-on-scroll",["exports","@angular/core","rxjs","@angular/common"],t):t((e=e||self)["ng2-animate-on-scroll"]={},e.ng.core,e.rxjs,e.ng.common)}(this,(function(e,t,i,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function o(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}function r(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var s=function(){function e(){var e=this;this.scrollSub=new i.Subscription,this.resizeSub=new i.Subscription,this.manageScrollPos(),this.scrollObs="undefined"!=typeof window?i.fromEvent(window,"scroll"):i.empty(),this.scrollSub=this.scrollObs.subscribe((function(){return e.manageScrollPos()})),this.resizeObs="undefined"!=typeof window?i.fromEvent(window,"resize"):i.empty(),this.resizeSub=this.resizeObs.subscribe((function(){return e.manageScrollPos()}))}return e.prototype.manageScrollPos=function(){this.pos="undefined"!=typeof window?window.pageYOffset:0},e.prototype.ngOnDestroy=function(){this.scrollSub.unsubscribe(),this.resizeSub.unsubscribe()},e=o([t.Injectable()],e)}(),l=function(){function e(e,t,n){this.elementRef=e,this.renderer=t,this.scroll=n,this.scrollSub=new i.Subscription,this.resizeSub=new i.Subscription,this.offset=80}return Object.defineProperty(e.prototype,"id",{get:function(){return this.elementRef.nativeElement.id},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;if(!this.animationName)throw new Error("animationName required");this.isVisible=!1,this.scrollSub=this.scroll.scrollObs.subscribe((function(){return e.manageVisibility()})),this.resizeSub=this.scroll.resizeObs.subscribe((function(){return e.manageVisibility()}))},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){return e.manageVisibility()}),1)},e.prototype.ngOnDestroy=function(){this.scrollSub.unsubscribe(),this.resizeSub.unsubscribe()},e.prototype.manageVisibility=function(){if(!this.isVisible){this.getWinHeight(),this.getOffsetTop();var e=this.offsetTop+this.offset-this.winHeight;this.scroll.pos>=e&&this.addAnimationClass()}},e.prototype.addAnimationClass=function(){this.isVisible=!0,this.setClass(this.animationName)},e.prototype.setClass=function(e){var t,i;try{for(var n=r(e.split(" ")),o=n.next();!o.done;o=n.next()){var s=o.value;this.renderer.addClass(this.elementRef.nativeElement,s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},e.prototype.getWinHeight=function(){this.winHeight="undefined"!=typeof window?window.innerHeight:0},e.prototype.getOffsetTop=function(){if("function"==typeof this.elementRef.nativeElement.getBoundingClientRect){var e=this.elementRef.nativeElement.getBoundingClientRect().top,t=this.elementRef.nativeElement.clientTop;this.offsetTop=e+this.scroll.pos-t}else this.offsetTop=0},e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:s}]},o([t.Input()],e.prototype,"animationName",void 0),o([t.Input()],e.prototype,"offset",void 0),e=o([t.Directive({selector:"[animateOnScroll]"})],e)}(),u=function(){function e(){}var i;return i=e,e.forRoot=function(){return{ngModule:i,providers:[s]}},e=i=o([t.NgModule({imports:[n.CommonModule],declarations:[l],exports:[l]})],e)}();e.AnimateOnScrollDirective=l,e.AnimateOnScrollModule=u,e.ScrollService=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng2-animate-on-scroll.umd.min.js.map